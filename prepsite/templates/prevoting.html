{% load static i18n %}
<!doctype html>
<html lang="en">
<head>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MNT4FBN');</script>
<!-- End Google Tag Manager -->


  <!-- Required meta tags -->
  <title> About ICON Node election </title>
  <meta name="description"
        content="Pre-voting is an influential activity to elect ICON Network's best P-Reps. A maximum of 3M ICX will be rewarded as incentives for participating in pre-voting. Pre-votes will be accumulated to on-chain election following right after.">
  <meta name="keyword"
        content="pre-vote, iconist, dapp, full node, light node, blockchain governance, dpos, token economy, on-chain, off-chain, mainnet">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="shortcut icon" type="image/png" href="{% static 'images/favicon.ico' %}">
  <!-- Start: CSS -->
  <link rel='stylesheet prefetch' href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600'>

  <!-- bootstrap -->
  <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">

  <!-- google fonts -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:300,500,600,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,800" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">

  <!-- fontawesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/brands.css"
        integrity="sha384-whKHCkwP9f4MyD1vda26+XRyEg2zkyZezur14Kxc784RxUU1E7HvWVYj9EoJnUV7" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/solid.css"
        integrity="sha384-+0VIRx+yz1WBcCTXBkVQYIBVNEFH1eP6Zknm16roZCyeNg2maWEpk/l/KsyFKs7G" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/fontawesome.css"
        integrity="sha384-WK8BzK0mpgOdhCxq86nInFqSWLzR5UAsNg0MGX9aDaIIrFWQ38dGdhwnNCAoXFxL" crossorigin="anonymous">

  <!-- slick slider -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>

  <!-- custom -->
  <link href="{% static 'css/navbar-common.css' %}" rel="stylesheet">
  <link href="{% static 'css/prevote.css' %}" rel="stylesheet">

  <style type="text/css">

    .navbar .navbar-brand {
      width: 146.5px;
      height: 32px;
      background-image: url({% static 'images/iconsensus_logoonly_inverted.png' %});
      background-repeat: no-repeat;
      background-position: center;
      background-size: cover;
    }

    .navbar.inverted .navbar-brand {
      background-image: url({% static 'images/iconsensus_logoonly.png' %});
    }

    .hero {
      width: 100vw;
      height: 100vh;
      min-width: 100%;
      min-height: 100%;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      overflow: hidden;
      font-family: 'Montserrat', sans-serif;
      background-color: #1aaaba;
      background-image: url({% static 'images/hero-bg.png' %});
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }
    .hero h1 {
      color: rgba(255,255,255,0.9);
      text-transform: uppercase;
      margin: 0 0 .75rem 0;
      font-size: 2.75rem;
      font-weight: 800;
    }

    #clockdiv{
      font-family: 'Share Tech Mono', monospace;
      color: #daf6ff;
      text-shadow: 0 0 20px #0aafe6, 0 0 20px rgba(10, 175, 230, 0);
      display: inline-block;
      font-weight: 100;
      text-align: center;
      font-size: 30px;
    }

    #clockdiv > div{
      padding: 10px;
      border-radius: 3px;
      background: rgba(26,170,186,0.1);
      display: inline-block;
    }

    #clockdiv div > span{
      padding: 15px;
      border-radius: 3px;
      background: #001639;
      display: inline-block;
    }

    .smalltext{
      padding-top: 5px;
      font-size: 16px;
    }

    .inputs {
      padding: 8px;
      width: 300px;
      font-size: 24px;
      text-align: center;
    }

    .rewards {
      font-size: 28px;
      font-weight: bold;
      color: #1e7e34;
    }

  </style>

</head>
<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MNT4FBN"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<!-- Nav -->
<nav class="navbar navbar-expand-md navbar-light fixed-top">
  <div class="container">
    <a class="navbar-brand" href="/iconsensus/"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
            aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/iconsensus/prevoting/">Pre-Voting</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/iconsensus/about/">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/iconsensus/candidates/">Candidate List</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/iconsensus/preapplication/">Apply</a>
        </li>

        <li class="nav-item dropdown">
          {% get_current_language as LANGUAGE_CODE %}
          <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true"
             aria-expanded="false">Downloads</a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdown01">
            {% if LANGUAGE_CODE == 'ko' %}
              <a class="dropdown-item"
                 href="https://m.icon.foundation/download/ICON_P-Rep_Pre-registration_Guide_KO_V1.0.pdf" target="_blank">P-Rep
                Pre-Registration Guide(국문)</a>
              <a class="dropdown-item" href="https://m.icon.foundation/download/ICON_Election_Introduction_KO_V1.0.pdf"
                 target="_blank">ICON Election Introduction(국문)</a>
              <a class="dropdown-item"
                 href="https://m.icon.foundation/download/Introduction_for_Public_Representative_of_ICON_Network_KO_V1.0.pdf"
                 target="_blank">Introduction for Public Representative(국문)</a>

            {% else %}
              <a class="dropdown-item"
                 href="https://m.icon.foundation/download/ICON_P-Rep_Pre-registration_Guide_EN_V1.0.pdf" target="_blank">P-Rep
                Pre-Registration Guide</a>
              <a class="dropdown-item" href="https://m.icon.foundation/download/ICON_Election_Introduction_EN_V1.0.pdf"
                 target="_blank">ICON Election Introduction</a>
              <a class="dropdown-item"
                 href="https://m.icon.foundation/download/Introduction_for_Public_Representative_of_ICON_Network_EN_V1.0.pdf"
                 target="_blank">Introduction for Public Representative</a>

            {% endif %}
          </div>
        </li>

        <form id="language_form" action="{% url 'set_language' %}" method="post">{% csrf_token %}
          {% get_current_language as LANGUAGE_CODE %}
          <input name="next" type="hidden" value="{{ redirect_to }}">
          <input id="post_lang" name="language" value="{{ LANGUAGE_CODE }}" type="hidden">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true"
               aria-expanded="false">{{ LANGUAGE_CODE|language_name_local }}</a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdown01">
              {% get_available_languages as LANGUAGES %}
              {% get_language_info_list for LANGUAGES as languages %}
              {% for language in languages %}
                {% if language.code != LANGUAGE_CODE %}<a class="dropdown-item" href="#"
                                                          onclick="change_language('{{ language.code }}');">{{ language.name_local }}</a>
                {% endif %}
              {% endfor %}
            </div>
          </li>
        </form>
      </ul>
    </div>
  </div>
</nav>


<main role="main" class="main">

  <!-- Count Down -->
  <section class="hero">
    <div class="hero-inner col-md-8 mb-5">
      <h1>{% trans 'Pre-vote Your Favorite P-Reps!' %}</h1>
      <div id="clockdiv">
        <p style="margin-top: 15px;">{% trans 'August 26th, 2019' %}</p>
        <div>
          <span class="days"></span>
          <div class="smalltext">Days</div>
        </div>
        <div>
          <span class="hours"></span>
          <div class="smalltext">Hours</div>
        </div>
        <div>
          <span class="minutes"></span>
          <div class="smalltext">Minutes</div>
        </div>
        <div>
          <span class="seconds"></span>
          <div class="smalltext">Seconds</div>
        </div>
      </div>
    </div>
  </section>
  <div><hr style="margin-top: 4px;"></div>

  <!-- Content -->
  <section class="content pb-0">
    <div class="container marketing">

      <h1 class="text-center mb-2 mt-5">{% trans 'What is Pre-Voting' %}</h1><br>
      <div class="offset-md-2 col-md-8">
        <p class="lead notofont"> {% trans "Pre-voting is a significant activity to elect ICON Network’s most qualified P-Reps. A maximum of 3M ICX will be rewarded from the ICON Foundation as incentives for participating in pre-voting. Pre-votes will be accumulated until on-chain election in September" %}</p>
        <p class="lead notofont text-center"><b>{% trans "Vote now and contribute to ICON's decentralized network!" %}</b></p>
      </div>

      <!-- Calculator -->
      <h1 class="text-center mb-2 mt-5">{% trans 'Calculate Your Staking Rewards' %}</h1><br>
      <div class="text-center offset-md-2 col-md-8">
        <h5>{% trans 'Staking Amount' %}</h5>
        <input type="text" id="icxholding" placeholder="10000" class="inputs"><br><br>
        <h5 class="notofont">{% trans 'Total Network Stake %' %}</h5>
        <input type="text" id="delegationrate" placeholder="30" class="inputs"><br><br>
        <a onclick="calculate();" class="btn btn-primary notofont">{% trans 'Calculate' %}</a><br><br>
        <div id="result">
          <br>
          <h5 style="font-weight: bold;">{% trans 'Annual Reward Rate' %}</h5>
          <div id="rewardrate" class="rewards"></div>
          <br>
          <h5 style="font-weight: bold;">{% trans 'Annual ICX Rewards' %}</h5>
          <div id="reward" class="rewards"></div>
        </div>
        <br>
      </div>

    </div>

    <div class="iconex">

      <div><hr style="margin-top: 40px; margin-bottom: 40px;"></div>

      <div class="text-center">
      <h1 class="text-center mb-2 mt-5" style="color: #ffffff;">{% trans 'Download ICONex to Pre-vote!' %}</h1><br>
      <a href="https://chrome.google.com/webstore/detail/iconex/flpiciilemghbmfalicajoolhkkenfel?hl=en" target="_blank" class="btn-outline">{% trans 'Download ICONex' %}</a>
      </div>

      <div><hr style="margin-top: 40px; margin-bottom: 40px;"></div>

    </div>
    <br>
    <div class="container marketing">
      <h1 class="text-center mb-2 mt-5">{% trans 'How to Vote' %}</h1><h2 class="text-center">{% trans 'Voting feature will be available on August 26th' %}</h2><br>
      <div class="text-center">
        <p class="lead notofont" style="font-size: 20px;"> {% trans "Pre-voting is a significant activity to elect ICON Network’s most qualified P-Reps." %}</p>
      </div>

      <div>
        <img src="{% static 'images/how-to-vote.png' %}">
      </div>

      <div class="row">
        <div class="col-md-6" style="padding: 50px;">
          <p class="stephead">{% trans 'Step1' %}</p>
          <p class="stepsub">{% trans 'Click the stake button at bottom left of the voting menu' %}</p>
          <div style="width:100%; height:40%;border-left: 2px solid #1aaaba; margin-top:20px; margin-bottom:20px;"></div>
        </div>
        <div class="col-md-6" style="padding: 50px;">
          <img src="{% static 'images/step1.png' %}">
        </div>

        <div class="col-md-6" style="padding: 50px;">
          <p class="stephead">{% trans 'Step2' %}</p>
          <p class="stepsub">{% trans 'Apply the amount of ICX you would like to stake via the slider then submit' %}</p>
          <div style="width:100%; height:40%;border-left: 2px solid #1aaaba; margin-top:20px; margin-bottom:20px;"></div>
        </div>
        <div class="col-md-6" style="padding: 50px;">
          <img src="{% static 'images/step2.png' %}">
        </div>

        <div class="col-md-6" style="padding: 50px;">
          <p class="stephead">{% trans 'Step3' %}</p>
          <p class="stepsub">{% trans 'Staked ICX can be used to vote for P-Reps' %}</p>
          <div style="width:100%; height:40%;border-left: 2px solid #1aaaba; margin-top:20px; margin-bottom:20px;"></div>
        </div>
        <div class="col-md-6" style="padding: 50px;">
          <img src="{% static 'images/step3.png' %}">
        </div>

        <div class="col-md-6" style="padding: 50px;">
          <p class="stephead">{% trans 'Step4' %}</p>
          <p class="stepsub">{% trans 'Select your favorite P-Rep candidate on the list and click the + button' %}</p>
          <div style="width:100%; height:40%;border-left: 2px solid #1aaaba; margin-top:20px; margin-bottom:20px;"></div>
        </div>
        <div class="col-md-6" style="padding: 50px;">
          <img src="{% static 'images/step4.png' %}">
        </div>

        <div class="col-md-6" style="padding: 50px;">
          <p class="stephead">{% trans 'Step5' %}</p>
          <p class="stepsub">{% trans 'Adjust voting power for the selected P-Rep using the slider then vote' %}</p>
          <div style="width:100%; height:40%;border-left: 2px solid #1aaaba; margin-top:20px; margin-bottom:20px;"></div>
        </div>
        <div class="col-md-6" style="padding: 50px;">
          <img src="{% static 'images/step5.png' %}">
        </div>
      </div>


    </div>
  </section>


  <footer class="footer py-0 aboutfooter">
    <div class="px-5" style="background-color: #1aaaba; color:white;">
      <div class="row">

        <div class="col-lg-5 col-12 mb-5">
          <div class="mt-5" style="margin-bottom:1.5rem; line-height: 1.2;"><img src="{% static 'images/icon.community_ logo_final-invert.png' %}" style="width:200px;"></div>
          {% trans 'icon.community is a strategic community of the ICON project, currently focused on the P-Rep election campaign. The community will collaborate with the ICON Foundation throughout the entire ICONSENSUS campaign.' %}
        </div>

        <div class="col-lg-2 col-6 mb-5">
          <h5 class="mt-5" style="font-weight:600;">Get Started</h5>
          <div class="mt-3">

            <a href="https://m.icon.foundation/download/Introduction_for_Public_Representative_of_ICON_Network_EN_V1.0.pdf" target="_blank">{% trans 'For P-Reps' %}</a><br>
            <a href="https://m.icon.foundation/download/ICON_Election_Introduction_EN_V1.0.pdf" target="_blank">{% trans 'For ICONists' %}</a><br>
            <a href="https://icon.foundation/download/ICON_P-Rep_Pre-registration_Guide_EN_V1.0.pdf" target="_blank">{% trans 'How to register' %}</a><br>
            <a href="mailto:support@icon.community">{% trans 'Any questions?' %}</a>
          </div>
        </div>

        <div class="col-lg-2 col-6 mb-5">
          <h5 class="mt-5" style="font-weight:600;">ICON Network</h5>
          <div class="mt-3">

            <a href="https://medium.com/helloiconworld" target="_blank">{% trans 'Official Blog' %}</a><br>
            <a href="https://t.me/joinchat/Fqw4igkkVmYtj--ZVi-QcA" target="_blank">{% trans 'Official Community' %}</a><br>
            <a href="https://www.icondev.io/" target="_blank">{% trans 'Developer Portal' %}</a><br>
            <a href="https://helloiconworld.freshdesk.com/support/home" target="_blank">{% trans 'FAQs' %}</a>
          </div>
        </div>

        <div class="col-lg-3 col-12 mb-5 stayupdated" style="margin-top:36px;">
          <div class="row">
            <div class="form-inline mt-3 col-12">
              <form action="https://community.us20.list-manage.com/subscribe/post" method="POST" novalidate>
                <input type="hidden" name="u" value="5eabe842b061c4df20b14936a">
                <input type="hidden" name="id" value="4f8eebf6fc">
                <input type="text" size="18" placeholder="Stay Updated" name="MERGE0" id="MERGE0" style="padding:3px;"><input type="submit" class="newsbtn" value="Go">
              </form>
            </div>
          </div>

          <div class="row footersocial mt-4 pr-4">
            <div class="col-3"></div>
            <div class="col-2">
              <a href="https://t.me/iconcm" target="_blank" class="social ml-2"><i class="fab fa-telegram fa-2x"></i></a>
            </div>
            <div class="col-2">
              <a href="https://medium.com/iconcm" target="_blank" class="social ml-2"><i class="fab fa-medium fa-2x"></i></a>
            </div>
            <div class="col-2"><!-- justify-content-center-->
              <a href="https://www.youtube.com/channel/UC5SrWL7CKY09cVtuDxHtizw" target="_blank" class="social ml-2"><i class="fab fa-youtube fa-2x"></i></a>
            </div>
            <div class="col-3"></div>
          </div>

          <div class="row footersocial mt-2 pr-4">
            <div class="col-3"></div>
            <div class="col-2">
              <a href="https://www.facebook.com/helloicon" target="_blank" class="social ml-2"><i class="fab fa-facebook fa-2x"></i></a>
            </div>
            <div class="col-2">
              <a href="https://www.reddit.com/r/helloicon/" target="_blank" class="social ml-2"><i class="fab fa-reddit fa-2x"></i></a>
            </div>
            <div class="col-2">
              <a href="https://twitter.com/iconcm" target="_blank" class="social ml-2"><i class="fab fa-twitter fa-2x"></i></a>
            </div>
            <div class="col-3"></div>
          </div>
        </div>

      </div>
    </div>
  </footer>



</main>
<!-- End: Main Content -->

<script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
<script src="{% static 'js/popper.js' %}"></script>
<script src="{% static 'js/bootstrap.js' %}"></script>


<script type="text/javascript">
    $(document).ready(function () {
        $(window).scroll(function () {
            if ($(window).scrollTop() > 500) { //$(window).height() - $('.navbar').outerHeight() for full viewport
                $('.navbar').addClass('inverted');
            } else {
                $('.navbar').removeClass('inverted');
            }
        });
    });
</script>
<script>
  function change_language(lang) {
    var language_form = document.getElementById('language_form');
    var post_lang = document.getElementById('post_lang');
    post_lang.value = lang;
    language_form.submit();
  }
  function openUrl(url, win){
    window.open(url, win);
  }

  // COUNT DOWN
  function getTimeRemaining(endtime) {
    var t = Date.parse(endtime) - Date.parse(new Date());
    var seconds = Math.floor((t / 1000) % 60);
    var minutes = Math.floor((t / 1000 / 60) % 60);
    var hours = Math.floor((t / (1000 * 60 * 60)) % 24);
    var days = Math.floor(t / (1000 * 60 * 60 * 24));
    return {
      'total': t,
      'days': days,
      'hours': hours,
      'minutes': minutes,
      'seconds': seconds
    };
  }

  function initializeClock(id, endtime) {
      console.log(endtime);
    var clock = document.getElementById(id);
    var daysSpan = clock.querySelector('.days');
    var hoursSpan = clock.querySelector('.hours');
    var minutesSpan = clock.querySelector('.minutes');
    var secondsSpan = clock.querySelector('.seconds');

    function updateClock() {
      var t = getTimeRemaining(endtime);

      daysSpan.innerHTML = t.days;
      hoursSpan.innerHTML = ('0' + t.hours).slice(-2);
      minutesSpan.innerHTML = ('0' + t.minutes).slice(-2);
      secondsSpan.innerHTML = ('0' + t.seconds).slice(-2);

      if (t.total <= 0) {
        clearInterval(timeinterval);
      }
    }

    updateClock();
    var timeinterval = setInterval(updateClock, 1000);
  }

  //var deadline = new Date(Date.parse(new Date()) + 150 * 24 * 60 * 60 * 1000);
  var deadline = new Date(Date.UTC(2019, 7, 26));
  initializeClock('clockdiv', deadline);


  // CALCULATOR
  function rrep(delrate){
      const r_min = 0.02, r_max = 0.12, r_point = 0.7;
      return ((r_max-r_min)/(r_point**2)) * ((delrate/100)-r_point)**2 + r_min;
  }

  function calculate(){
      // default values
      if($("#icxholding").val()=='') $("#icxholding").val(10000);
      if($("#delegationrate").val()=='') $("#delegationrate").val(30);

      var delegationrate = $("#delegationrate").val();
      if(delegationrate >= 70) delegationrate = 70;

      // assuming same delegation rates for other two sectors, hence * 3
      var rewardval = (rrep(delegationrate)*3*100).toFixed(2);

      $("#rewardrate").text(rewardval+'%');
      $("#reward").text(($("#icxholding").val()*(rewardval/100)).toLocaleString()+" ICX");
  }
  calculate();

</script>
</body>
</html>